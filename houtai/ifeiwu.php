<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto fo12B; HdMju: if (!in_array("\x73\x6f\x72\x74\142\171", $this->fields)) { goto p17UB; } goto FwxG1; ccHdI: D_86i: goto sOont; ZFwgT: $this->prefix = $this->db->getPrefix(); goto PufLH; WsHsb: $this->db = ifeiwu\Db::getInstance(); goto ZFwgT; FwxG1: $this->order[] = "\x73\x6f\x72\164\x62\171\x20\x44\105\x53\x43"; goto FT_Mo; fo12B: $this->admin = $_GET["\141\144\x6d\x69\x6e"]; goto bZDzH; pHVKw: y0JUa: goto ccHdI; bZDzH: if (!$this->table) { goto D_86i; } goto WsHsb; FT_Mo: p17UB: goto i_xe9; LW5gy: $this->order = array(); goto HdMju; i_xe9: if (!in_array("\143\164\151\x6d\x65", $this->fields)) { goto y0JUa; } goto Mam2_; PufLH: $this->fields = $this->_getTableFields($this->table); goto LW5gy; Mam2_: $this->order[] = "\x63\x74\x69\155\x65\40\104\105\x53\103"; goto pHVKw; sOont: } public function __destruct() { goto eiW5f; m2pUf: Qv1wV: goto MzWgj; YOSx9: $this->_debug($this->db->log()); goto m2pUf; eiW5f: if (!APP_DEBUG) { goto Qv1wV; } goto YOSx9; MzWgj: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto ct2kO; r82rf: return $res; goto cA5zF; Nd_sI: if (!$data) { goto WRIXm; } goto kZp20; ct2kO: $res = array(); goto YLpJ2; naprV: WRIXm: goto r82rf; B58Hd: if (is_array($message)) { goto jmBIb; } goto Zal0Q; F3OQK: jmBIb: goto Whksy; Whksy: $res["\x64\141\164\x61"] = $message; goto zgS4P; zgS4P: vrePn: goto Nd_sI; Zal0Q: $res["\x6d\145\x73\163\x61\147\145"] = $message; goto i3f9m; YLpJ2: $res["\143\x6f\144\x65"] = $code; goto B58Hd; i3f9m: goto vrePn; goto F3OQK; kZp20: $res["\144\x61\164\141"] = $data; goto naprV; cA5zF: } protected function _bulidData($request_data) { goto kgIQe; hcdQF: $column[] = "\x61\x6c\151\x61\163"; goto Ex6IH; PU0HB: $column[] = "\164\151\x74\x6c\x65"; goto AYj4F; fz9wK: $column = array("\x69\144"); goto pm9ak; eNlJ8: $data["\163\x74\x61\164\x65"] = isset($data["\x73\164\x61\x74\x65"]) ? $data["\x73\x74\141\x74\145"] : 0; goto ldisi; AYj4F: vtPMg: goto ZPEQD; uwUBH: $data["\152\163\157\156"] = $category ? json_encode(array("\143" => $category)) : ''; goto igzON; uWDv8: return $data; goto I6poA; bzwRF: if (!($pid > 0 && in_array("\152\x73\x6f\x6e", $this->fields))) { goto Z18GC; } goto fz9wK; Ex6IH: PhuqB: goto f5oMC; jucWZ: hroUS: goto eNlJ8; kgIQe: $data = array(); goto KLInW; pm9ak: if (!in_array("\164\151\x74\x6c\x65", $this->fields)) { goto vtPMg; } goto PU0HB; WXK9x: wR0hA: goto KUWGl; igzON: Z18GC: goto uWDv8; f5oMC: $category = $this->db->select($this->table, $column)->where("\151\x64\x20\75\x20{$pid}")->get(); goto uwUBH; ZPEQD: if (!in_array("\x61\x6c\151\x61\163", $this->fields)) { goto PhuqB; } goto hcdQF; KEHTU: $data["\143\x74\151\x6d\145"] = strtotime($request_data["\143\164\x69\155\x65"]); goto WXK9x; KLInW: foreach ($this->fields as $field) { goto OxT0F; Ix9gD: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto RJt8S; RJt8S: goIYI: goto C7wvv; NYGO1: if (!($value !== null)) { goto goIYI; } goto Ix9gD; OxT0F: $value = $request_data[$field]; goto NYGO1; C7wvv: PM67p: goto OGhsW; OGhsW: } goto jucWZ; ldisi: if (!isset($request_data["\x63\164\151\x6d\x65"])) { goto wR0hA; } goto KEHTU; KUWGl: $pid = $data["\160\x69\144"]; goto bzwRF; I6poA: } protected function _encode($data) { goto DtRtq; hVEX5: return htmlspecialchars($data, ENT_QUOTES); goto N1wnt; BG6ZU: $tmp = clone $data; goto oQrVk; u_Bou: Zqj0a: goto hVEX5; QKIVo: if (!is_object($data)) { goto Zqj0a; } goto BG6ZU; A6os5: ZV773: goto QKIVo; diPvf: return $tmp; goto u_Bou; DtRtq: if (!is_array($data)) { goto ZV773; } goto w6GDU; oQrVk: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); FyXFv: } goto IjpKj; w6GDU: return array_map(array($this, "\x5f\x65\x6e\x63\x6f\144\145"), $data); goto A6os5; IjpKj: Ytkuc: goto diPvf; N1wnt: } protected function _decode($data) { goto aC31G; aC31G: if (!is_array($data)) { goto lGYG2; } goto KZB8d; Sl9Mf: gPpLu: goto dw5Up; PdROs: lGYG2: goto xjXmP; xjXmP: if (!is_object($data)) { goto SzFDU; } goto WpcWp; jzuI5: return htmlspecialchars_decode($data, ENT_QUOTES); goto bBbqg; KZB8d: return array_map(array($this, "\137\144\145\143\157\144\x65"), $data); goto PdROs; WpcWp: $tmp = clone $data; goto yPV6S; TKq8M: SzFDU: goto jzuI5; yPV6S: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); WzrNX: } goto Sl9Mf; dw5Up: return $tmp; goto TKq8M; bBbqg: } protected function _getTableFields($table) { goto aWfSs; tYfVU: eaZUn: goto poIwJ; piSlO: $column = $query->getColumnMeta($i); goto OWpZG; ucJ_0: goto eaZUn; goto Penxd; B6qwu: VJTSF: goto SjiXS; GvGaH: $i++; goto X4JUG; aWfSs: if ($table) { goto hB9jC; } goto b2vPs; VhyFM: CoRxT: goto FYXC2; b2vPs: $table = $this->prefix . $this->table; goto ucJ_0; OWpZG: $fields[] = $column["\x6e\141\155\145"]; goto qmCTr; X4JUG: goto VJTSF; goto VhyFM; FYXC2: return $fields; goto Cwy16; Penxd: hB9jC: goto n2gE7; T39Aq: $i = 0; goto B6qwu; qmCTr: fwimt: goto GvGaH; n2gE7: $table = $this->prefix . $table; goto tYfVU; SjiXS: if (!($i < $count)) { goto CoRxT; } goto piSlO; poIwJ: $query = $this->db->query("\123\105\x4c\x45\103\x54\40\x2a\40\x46\x52\x4f\115\x20{$table}"); goto Hg4tn; Hg4tn: $count = $query->columnCount(); goto T39Aq; Cwy16: } protected function _callback($method, $params) { goto lpIRm; dxCzW: call_user_func_array(array($this, $method), $params); goto qdpJ0; lpIRm: if (!(is_callable(array($this, $method)) !== false)) { goto NArOJ; } goto dxCzW; qdpJ0: NArOJ: goto oxNIE; oxNIE: } protected function _getLevel($pid, $id) { goto QoEE1; ddv4Y: MSFLc: goto oRiDS; CjlKy: return "\x2c" . $id . "\x2c"; goto Rkj0Z; aRyZ5: goto DqLfy; goto OC4s2; HfFsY: wlHjd: goto lG8Sn; OC4s2: wmBSH: goto CjlKy; QoEE1: static $list = array(); goto RAhd1; IMzAS: $pid = $this->db->select($this->table, "\x70\151\144")->where(array("\151\144", "\75", $id))->get(0); goto HfFsY; RAhd1: if (!($pid === '')) { goto wlHjd; } goto IMzAS; oRiDS: return "\54" . implode("\x2c", array_reverse($list)) . "\54" . $id . "\54"; goto lRZo4; Rkj0Z: DqLfy: goto zjODv; TZ6SE: goto NlB4v; goto ddv4Y; NIa58: return "\54" . implode("\54", array_reverse($list)) . "\x2c"; goto TZ6SE; zZGG4: if ($id) { goto MSFLc; } goto NIa58; lG8Sn: if (!($pid != 0)) { goto zeGUb; } goto QbjOg; EDngo: if (count($list) == 0) { goto wmBSH; } goto zZGG4; lRZo4: NlB4v: goto aRyZ5; QbjOg: $list[] = $pid; goto sVh1N; Tr8C8: zeGUb: goto EDngo; sVh1N: $this->_getLevel('', $pid); goto Tr8C8; zjODv: } protected function _saveData($table, $data, $where) { goto hBU3h; gR9aJ: return $this->db->insert($table, $data)->is(); goto Ionl6; hBU3h: if ($this->db->select($table)->where($where)->has()) { goto dKwSv; } goto gR9aJ; Ht3w0: o1E11: goto DP4bv; Ionl6: goto o1E11; goto NDGrk; VHPd3: return $this->db->update($table, $data, $where)->is(); goto Ht3w0; NDGrk: dKwSv: goto VHPd3; DP4bv: } protected function _saveImages($pid, $request_data) { goto Iean9; qEyNV: $images_name = $request_data["\x69\x6d\141\147\145\x73\137\x6e\x61\x6d\145"]; goto qi9E6; osBRc: $data["\143\x74\x69\x6d\145"] = time(); goto RS_aY; Iean9: $images_id = $request_data["\151\155\x61\x67\145\x73\137\x69\x64"]; goto WQEzO; urJX1: $images_state = $request_data["\x69\x6d\141\147\x65\163\x5f\x73\x74\141\164\145"]; goto h51MT; GJoZ3: $images_title = $request_data["\151\x6d\141\x67\145\163\x5f\x74\151\164\154\145"]; goto qEyNV; nvKKv: $data["\160\151\144"] = $pid; goto osBRc; qi9E6: $images_path = $request_data["\x69\x6d\x61\147\x65\163\x5f\x70\141\x74\150"]; goto urJX1; RS_aY: foreach ($images_id as $i => $id) { goto sQqVm; kaMnA: unset($data["\151\155\141\x67\x65"], $data["\x69\155\141\147\x65\x5f\x70\x61\164\150"]); goto XhtwO; my4_2: $this->db->update($this->table, $data, array("\151\x64", "\x3d", $id)); goto wPPhJ; hlb6u: $data["\x73\x74\x61\164\145"] = $images_state[$i]; goto Dz17f; Dz17f: if (empty($id)) { goto LKYqq; } goto my4_2; eLQ4U: $data["\151\155\x61\x67\145"] = $images_name[$i]; goto xNNUg; I2Mt9: $this->db->insert($this->table, $data); goto kaMnA; XhtwO: nzW2e: goto SDKe0; pODCr: $data["\157\162\144\x65\162\x62\171"] = $images_order[$i]; goto hlb6u; xNNUg: $data["\151\155\x61\147\145\137\160\x61\164\150"] = $images_path[$i]; goto I2Mt9; SDKe0: w0DpN: goto zoIOV; Vvca2: LKYqq: goto eLQ4U; wPPhJ: goto nzW2e; goto Vvca2; sQqVm: $data["\164\151\164\154\x65"] = $images_title[$i]; goto pODCr; zoIOV: } goto OR6M6; WQEzO: $images_order = $request_data["\x69\x6d\141\x67\145\x73\137\157\162\144\145\x72"]; goto GJoZ3; OR6M6: k90BI: goto lDhZD; h51MT: $data["\x74\171\x70\145"] = "\x69\x6d\x61\147\x65"; goto nvKKv; lDhZD: } protected function _removeFiles2($files) { goto W6QKR; jOQAW: bs48O: goto nBd7L; Qzg11: foreach ($files as $key => $value) { goto cmZWW; RwKyA: $prefix = $value["\160\162\145\x66\x69\x78"]; goto ZDojT; CsMvB: goto qxedu; goto JvjhD; iCvRa: unlink($filename); goto mmOEl; Ru_Ac: qxedu: goto Yzm9a; DxMJl: T2As8: goto rmZPK; cmZWW: $name = $value["\x6e\x61\155\x65"]; goto dz8yS; mmOEl: RfGnI: goto e1PFU; uN12A: $path = "\56\56\57" . $value["\x70\141\164\150"]; goto RwKyA; lX5B6: foreach ($prefixs as $prefix) { goto yZbDV; gNBhq: xy7GO: goto vEETn; U1l0h: if (!file_exists($filename)) { goto GpNdo; } goto DJ6HE; yZbDV: $filename = "{$path}\57{$prefix}{$name}"; goto U1l0h; TYBFo: GpNdo: goto gNBhq; DJ6HE: unlink($filename); goto TYBFo; vEETn: } goto DxMJl; JvjhD: QY2kK: goto uN12A; dz8yS: if ($name) { goto QY2kK; } goto CsMvB; ZDojT: if ($prefix) { goto hyDu5; } goto CmC9d; e1PFU: goto w3b3_; goto AfF58; NRRZ0: if (!file_exists($filename)) { goto RfGnI; } goto iCvRa; AfF58: hyDu5: goto eMAqe; CmC9d: $filename = $path . "\57" . $name; goto NRRZ0; eMAqe: $prefixs = explode("\x2c", $prefix); goto lX5B6; rmZPK: w3b3_: goto Ru_Ac; Yzm9a: } goto iCzHx; cHAK4: tqYq1: goto E9eq5; nBd7L: if (!$files) { goto tqYq1; } goto Qzg11; W6QKR: if (!(!empty($files) && !is_array($files))) { goto bs48O; } goto m1Npr; iCzHx: SgFwR: goto cHAK4; m1Npr: $files = json_decode($files, true); goto jOQAW; E9eq5: } protected function _mkdir($path, $mode = 493) { goto lgVGW; lYl9a: return mkdir($path, $mode, true); goto k5tCp; k5tCp: ghSeH: goto Em9wr; Em9wr: return false; goto nYxCd; lgVGW: if (is_dir($path)) { goto ghSeH; } goto lYl9a; nYxCd: } protected function _rmdir($path) { goto ZWx54; DdZzm: goto gvRYj; goto y5D1Z; fRrqb: closedir($handle); goto WdYWZ; ZlswI: goto wA4Pl; goto VsgC5; XADSI: return false; goto EPTMp; ZWx54: if (is_dir($path)) { goto bLE9X; } goto XADSI; Dwn2R: eOirh: goto ZlswI; m2pfA: gvRYj: goto wi2GM; B7x4P: unlink("{$path}\x2f{$item}"); goto Ij2nL; VsgC5: atX8F: goto fRrqb; EPTMp: bLE9X: goto HGckd; xKf6N: nQ7o6: goto Dwn2R; LJs4E: if (is_dir("{$path}\x2f{$item}")) { goto jls4y; } goto B7x4P; cbWd9: if (!($item != "\56" && $item != "\56\x2e")) { goto eOirh; } goto LJs4E; Qc1MM: wA4Pl: goto kWdlK; xLft_: jls4y: goto pAxG2; pAxG2: $this->_rmdir("{$path}\57{$item}"); goto xKf6N; lcjxb: return false; goto DdZzm; Jxxc3: return true; goto m2pfA; HGckd: if (!($handle = opendir($path))) { goto vYEF5; } goto Qc1MM; kWdlK: if (!(false !== ($item = readdir($handle)))) { goto atX8F; } goto cbWd9; Ij2nL: goto nQ7o6; goto xLft_; y5D1Z: jHAqE: goto Jxxc3; wi2GM: vYEF5: goto VjiFU; WdYWZ: if (rmdir($path)) { goto jHAqE; } goto lcjxb; VjiFU: } protected function _bulidUploadPath($temp_path, $data) { goto C6lbs; WsZSA: $vardir = current(explode("\x21\75", $path_last)); goto dNg4A; jFL6O: yPxek: goto ejLHD; MF39U: return $temp_path; goto W4TSf; XCwer: if (!is_dir("\x2e\56\x2f" . $temp_path)) { goto KswIc; } goto jjItS; W4TSf: JsnX_: goto hJb_D; utbSw: if (!($path_last == $id)) { goto JsnX_; } goto MF39U; p5heq: $path_last = end(explode("\57", $temp_path)); goto utbSw; M5bPD: fzxG6: goto XCwer; ejLHD: KswIc: goto E_LCy; C6lbs: $id = $data["\151\x64"]; goto p5heq; c4OKj: $true_path = $temp_path; goto jFL6O; dNg4A: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto M5bPD; hJb_D: if (!(strpos($path_last, "\x21\75") !== false)) { goto fzxG6; } goto WsZSA; jjItS: if (rename("\56\56\57" . $temp_path, "\56\x2e\x2f" . $true_path)) { goto yPxek; } goto c4OKj; E_LCy: return $true_path; goto snuKF; snuKF: } protected function _toTree($list, $pk = "\151\x64", $pid = "\160\x69\x64", $child = "\x5f\x63\150\151\154\x64", $root = 0) { goto CW4Rd; RIuHJ: if (!is_array($list)) { goto oVPJJ; } goto hSIpV; CW4Rd: $tree = array(); goto RIuHJ; hSIpV: $refer = array(); goto uLccp; JOu6w: return $tree; goto CIsNz; uLccp: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; yFalu: } goto p3V2d; TFYmk: foreach ($list as $key => $data) { goto wWMPn; w4Awo: $tree[] =& $list[$key]; goto M3Xoy; WxgL9: goto ftVaF; goto Mw7z_; Fkt8x: hLeyh: goto A4DHI; HyfHJ: if (!isset($refer[$parentId])) { goto RJb6G; } goto KDglG; wWMPn: $parentId = $data[$pid]; goto E1gyH; ANh8e: RJb6G: goto WxgL9; KDglG: $parent =& $refer[$parentId]; goto xpMmI; Mw7z_: wHtCQ: goto w4Awo; xpMmI: $parent[$child][] =& $list[$key]; goto ANh8e; M3Xoy: ftVaF: goto Fkt8x; E1gyH: if ($root == $parentId) { goto wHtCQ; } goto HyfHJ; A4DHI: } goto FuBSm; FuBSm: tDfLZ: goto qZB6t; p3V2d: lzUdF: goto TFYmk; qZB6t: oVPJJ: goto JOu6w; CIsNz: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto cIcFY; NnuuB: $i++; goto UDXSq; QZ_0T: $chars .= "\x61\142\143\144\145\146\x67\150\151\x6a\153\154\x6d\156\x6f\x70\x71\x72\x73\x74\165\166\167\x78\x79\172"; goto RL4uT; pWMiO: $result .= $chars[rand(0, $max)]; goto pfq4y; XaP5n: $chars .= "\101\x42\x43\104\105\106\107\x48\x49\x4a\113\114\115\116\x4f\x50\121\122\123\124\125\126\x57\x58\x59\132"; goto K5GzS; The4n: $result = ''; goto wFh6A; onrdg: $chars .= "\x30\61\62\63\x34\65\x36\67\x38\x39"; goto gs7Qg; yV7Cy: xiDhn: goto The4n; wFh6A: $max = strlen($chars) - 1; goto ppvEG; CwB3t: avzw3: goto D2n4y; RL4uT: bEQWk: goto RR2HC; K5GzS: JYLCU: goto iaFzI; MKqif: XN4iu: goto IF3AL; pfq4y: GSOgx: goto NnuuB; gs7Qg: jymIE: goto MMhmP; D2n4y: return $result; goto g8dLf; IF3AL: if (!($i < $length)) { goto avzw3; } goto pWMiO; cIcFY: if (!$islowercase) { goto bEQWk; } goto QZ_0T; RR2HC: if (!$isuppercase) { goto JYLCU; } goto XaP5n; iaFzI: if (!$isnumber) { goto jymIE; } goto onrdg; uk2VU: $chars .= "\41\x40\x23\44\x25\x5e\46\52\x28\x29"; goto yV7Cy; MMhmP: if (!$isspecial) { goto xiDhn; } goto uk2VU; UDXSq: goto XN4iu; goto CwB3t; ppvEG: $i = 0; goto MKqif; g8dLf: } protected function _UTF82GBK($str) { goto CFSfo; n5g8F: rsx14: goto tQb82; CFSfo: if (stripos(php_uname("\x73"), "\x57\151\x6e\x64\157\x77") !== false) { goto VLr06; } goto iYV2i; fRUvT: goto rsx14; goto GsyY3; iYV2i: return $str; goto fRUvT; GsyY3: VLr06: goto dBiqa; dBiqa: return iconv("\125\x54\106\55\x38", "\x47\102\113\57\57\111\107\x4e\x4f\x52\x45", $str); goto n5g8F; tQb82: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto LDwIA; JkLVx: Dfp5_: goto Tm0cG; Tm0cG: $realip = $_SERVER["\x48\124\124\x50\137\103\x4c\x49\105\x4e\124\137\111\120"]; goto UVLLH; m3h32: if (getenv("\110\124\x54\120\137\103\x4c\111\105\116\124\x5f\111\x50")) { goto y2N9Y; } goto iT3lA; I5mZi: goto z3_tf; goto cznYR; UVLLH: vzprL: goto gK_jc; mPpET: goto vnJPy; goto rtI_G; d18v9: $realip = $_SERVER["\110\x54\124\120\137\130\137\106\117\122\127\x41\122\104\105\x44\x5f\106\x4f\x52"]; goto vd14B; gK_jc: vnJPy: goto aiwaJ; sVD0B: z3_tf: goto mPpET; f2x9H: $realip = $realip[0]; goto GYBjj; o5GO1: goto vzprL; goto sffqP; Wb20F: if (getenv("\x48\124\124\120\x5f\130\x5f\106\117\122\x57\101\x52\x44\x45\x44\137\x46\x4f\x52")) { goto Fauc8; } goto m3h32; V7vIM: $realip = explode("\x2c", $realip); goto f2x9H; aiwaJ: return $realip; goto bHaeM; ujFU1: $realip = empty($realip) ? $_SERVER["\122\105\115\x4f\124\x45\137\101\104\x44\122"] : $realip; goto GahIW; iT3lA: $realip = getenv("\122\x45\x4d\117\124\105\137\x41\x44\104\x52"); goto I5mZi; fW9p9: $realip = $realip[0]; goto ujFU1; looKg: $realip = $_SERVER["\x52\x45\115\x4f\124\105\x5f\x41\104\x44\x52"]; goto o5GO1; ekDT6: goto z3_tf; goto klrJb; Bsdme: $realip = getenv("\x48\124\x54\x50\x5f\130\x5f\x46\117\x52\127\101\x52\x44\105\x44\137\106\x4f\122"); goto V7vIM; LDwIA: if (isset($_SERVER)) { goto I3SPE; } goto Wb20F; klrJb: y2N9Y: goto uAJ0g; GahIW: goto vzprL; goto JkLVx; GYBjj: $realip = empty($realip) ? $_SERVER["\x52\105\x4d\x4f\x54\x45\137\101\x44\104\122"] : $realip; goto ekDT6; rtI_G: I3SPE: goto OhG7y; cznYR: Fauc8: goto Bsdme; sffqP: caG40: goto d18v9; OhG7y: if (isset($_SERVER["\110\x54\124\x50\x5f\x58\137\106\117\122\x57\101\x52\x44\105\104\x5f\x46\117\x52"])) { goto caG40; } goto GsMWY; vd14B: $realip = explode("\x2c", $realip); goto fW9p9; uAJ0g: $realip = getenv("\110\x54\x54\120\x5f\x43\x4c\111\105\116\124\137\111\120"); goto sVD0B; GsMWY: if (isset($_SERVER["\110\124\124\x50\x5f\103\x4c\x49\105\116\x54\137\111\x50"])) { goto Dfp5_; } goto looKg; bHaeM: } protected function _trash($item, $request_data) { goto Alb5O; Alb5O: $data = array(); goto eeyFN; XzbgS: $data["\x70\x61\164\x68"] = $path ? $item[$path] : ''; goto B9zJ9; c0KnO: $data["\x63\164\x69\155\145"] = time(); goto Xp0L5; Xp0L5: return $this->db->insert("\x74\x72\141\x73\x68", $data)->is(); goto hhlXt; jjw11: $data["\144\x61\x74\x61"] = json_encode($item); goto DjiUC; DjiUC: $data["\x73\164\x61\164\x65"] = 0; goto c0KnO; RZPww: $data["\141\144\155\151\156\x5f\156\141\155\145"] = $this->admin["\x6e\x61\155\145"]; goto kElmZ; zPoD4: $data["\x74\x69\164\x6c\145"] = $item["\164\x69\164\x6c\145"]; goto zVJ08; kElmZ: $data["\x6e\157\164\x65"] = $request_data["\x6e\x6f\x74\x65"]; goto zPoD4; zVJ08: $path = $request_data["\160\141\164\150"]; goto XzbgS; eeyFN: $data["\141\x64\155\151\156\137\151\144"] = $this->admin["\151\144"]; goto RZPww; B9zJ9: $data["\x74\141\142\x6c\145"] = $this->table; goto jjw11; hhlXt: } protected function _log($type, $data = array()) { goto Gp3hH; QtNqQ: $data["\x75\162\154"] = $_SERVER["\x48\x54\124\120\137\x52\x45\106\105\x52\105\122"]; goto rgXXj; rgXXj: Vs2Ft: goto F7bn6; R0rDh: $data["\164\171\160\145"] = $type; goto slhJ1; Gp3hH: if (!($type != "\x6c\x6f\x67\151\156")) { goto Vs2Ft; } goto JiirI; JiirI: $data["\x61\x64\155\151\156\137\x69\x64"] = $this->admin["\151\x64"]; goto XhXqV; XhXqV: $data["\141\x64\x6d\x69\156\137\x6e\141\155\145"] = $this->admin["\156\141\x6d\x65"]; goto QtNqQ; bDr0P: $data["\x63\164\151\155\x65"] = time(); goto mHhOD; slhJ1: $data["\x69\160"] = $this->_getIP(); goto bDr0P; F7bn6: $data["\x74\x61\142\x6c\145"] = $this->table; goto R0rDh; mHhOD: return $this->db->insert("\154\157\x67", $data)->is(); goto tJZWi; tJZWi: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
